{"version":3,"sources":["../../src/components/RXAddressPicker.js"],"names":["React","Component","PropTypes","RXPicker","RXAddressPicker","constructor","props","addressList","selectValues","result","AddressUtil","getNameWithCodes","provinceArray","provinceIndex","provinceCode","provinceName","cityArray","cityIndex","cityCode","cityName","areaArray","areaIndex","areaCode","areaName","allProvinceArray","allCityArray","allAreaArray","state","render","other","paddingBottom","onChange","onConfirm","scrollIndex","targetItemIndex","provinceDict","cityId","cityDict","getArrayWithParent","array","index","id","name","areaDict","setState","getArrayWithCityName","setTimeout","params","codes","Array","isArray","length","codeArray","split","codeValue_0","codeValue_1","codeValue_2","allDict","getPCA","code","cityIdValue","console","warn","firstItem","i","item","cityLevel","push","pCityId","newArray","parentId","allArray","itemName","propTypes","string","defaultProps"],"mappings":"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","file":"RXAddressPicker.js","sourcesContent":["/**\r\n * \r\n * \r\n * @flow\r\n */\r\n'use strict'\r\nimport React, {Component} from 'react';\r\nimport {} from 'react-native';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport RXPicker from '../core/RXPicker';\r\n\r\nexport default class RXAddressPicker extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.addressList = props.addressList || [];\r\n    let selectValues = props.selectValues || '';\r\n    let result = AddressUtil.getNameWithCodes(this.addressList, selectValues) || {};\r\n\r\n    let provinceArray = result.provinceArray || [];\r\n    this.provinceIndex = result.provinceIndex || 0;\r\n    this.provinceCode = result.provinceCode || 0;\r\n    this.provinceName = result.provinceName || '';\r\n\r\n    let cityArray = result.cityArray || [];\r\n    this.cityIndex = result.cityIndex || 0;\r\n    this.cityCode = result.cityCode || 0;\r\n    this.cityName = result.cityName || '';\r\n\r\n    let areaArray = result.areaArray || [];\r\n    this.areaIndex = result.areaIndex || 0;\r\n    this.areaCode = result.areaCode || 0;\r\n    this.areaName = result.areaName || '';\r\n\r\n    this.allProvinceArray = result.allProvinceArray || [];\r\n    this.allCityArray = result.allCityArray || [];\r\n    this.allAreaArray = result.allAreaArray || [];\r\n\r\n    // alert('provinceName='+this.provinceName+',cityName='+ this.cityName+',areaName='+this.areaName);\r\n\r\n    this.state = {\r\n      provinceArray,\r\n      cityArray,\r\n      areaArray,\r\n    }\r\n  }\r\n\r\n  onChange = (scrollIndex = 0, targetItemIndex = 0) => {\r\n    const { onChange } = this.props;\r\n    // console.log('onChange=> scrollIndex='+scrollIndex+',,,targetItemIndex='+targetItemIndex);\r\n    onChange && onChange(scrollIndex, targetItemIndex);\r\n\r\n    if (scrollIndex === 0) {\r\n      this.provinceIndex = targetItemIndex;\r\n      let provinceDict = this.allProvinceArray[this.provinceIndex] || {};\r\n      this.provinceCode = provinceDict.cityId || 0;\r\n      this.provinceName = provinceDict.cityName || '';\r\n\r\n      let cityDict = AddressUtil.getArrayWithParent(this.allCityArray, this.provinceCode) || {};\r\n      let cityArray = cityDict.array || [];\r\n      this.cityIndex = cityDict.index || 0;\r\n      this.cityCode = cityDict.id || 0;\r\n      this.cityName = cityDict.name || '';\r\n\r\n      let areaDict = AddressUtil.getArrayWithParent(this.allAreaArray, this.cityCode) || {};\r\n      let areaArray = areaDict.array || [];\r\n      this.areaIndex = areaDict.index || 0;\r\n      this.areaCode = areaDict.id || 0;\r\n      this.areaName = areaDict.name || '';\r\n      this.setState({cityArray, areaArray});\r\n    }\r\n    else if (scrollIndex === 1) {\r\n      this.cityIndex = targetItemIndex;\r\n      let cityDict = AddressUtil.getArrayWithCityName(this.state.cityArray, this.cityIndex, this.allCityArray) || {};\r\n      this.cityArray = cityDict.array || [];\r\n      this.cityCode = cityDict.id || 0;\r\n      this.cityName = cityDict.name || '';\r\n\r\n      let areaDict = AddressUtil.getArrayWithParent(this.allAreaArray, this.cityCode) || {};\r\n      let areaArray = areaDict.array || [];\r\n      this.areaIndex = areaDict.index || 0;\r\n      this.areaCode = areaDict.id || 0;\r\n      this.areaName = areaDict.name || '';\r\n      this.setState({areaArray});\r\n    }\r\n    else if (scrollIndex === 2) {\r\n      this.areaIndex = targetItemIndex;\r\n      let areaDict = AddressUtil.getArrayWithCityName(this.state.areaArray, this.areaIndex, this.allAreaArray) || {};\r\n      this.areaCode = areaDict.id || 0;\r\n      this.areaName = areaDict.name || '';\r\n    }\r\n  }\r\n\r\n  onConfirm = () => {\r\n    const { onConfirm } = this.props;\r\n    setTimeout(() => {\r\n      let params = {\r\n        provinceCode: this.provinceCode,\r\n        provinceName: this.provinceName,\r\n  \r\n        cityCode: this.cityCode,\r\n        cityName: this.cityName,\r\n  \r\n        areaCode: this.areaCode,\r\n        areaName: this.areaName,\r\n      }\r\n\r\n      onConfirm && onConfirm(params)\r\n    }, 1000);\r\n  }\r\n\r\n  render() {\r\n    const { ...other } = this.props;\r\n    const { provinceArray, cityArray, areaArray } = this.state;\r\n    return <RXPicker \r\n            {...other}\r\n            style={{paddingBottom: 20}}\r\n            title={'选择地区'}\r\n\r\n            // 数据源\r\n            list={[ provinceArray, cityArray, areaArray ]}\r\n\r\n            // 选中的\r\n            value={[this.provinceIndex, this.cityIndex, this.areaIndex]}\r\n\r\n            // 分区比例，注意和list数据源长度保持一致 (如果一致的，可以不写)\r\n            // proportion={ [1, 1, 1] }\r\n            // 选中项距离顶部的偏移个数\r\n            offsetCount={ 2 }\r\n            onChange={this.onChange}\r\n            onConfirm={this.onConfirm}\r\n          />\r\n  }\r\n}\r\n\r\n\r\n\r\nexport const AddressUtil = {\r\n\r\n  getNameWithCodes(array = [], codes = '') {\r\n\r\n    if (!array || !Array.isArray(array) || !array.length) {\r\n      return null;\r\n    }\r\n\r\n    let codeArray = codes.split(',') || [];\r\n    if (!Array.isArray(codeArray)) {\r\n      codeArray = [0, 0, 0];\r\n    }\r\n    var codeValue_0 = '';\r\n    var codeValue_1 = '';\r\n    var codeValue_2 = '';\r\n    if (codeArray.length > 0) codeValue_0 = codeArray[0] || 0;\r\n    if (codeArray.length > 1) codeValue_1 = codeArray[1] || 0;\r\n    if (codeArray.length > 2) codeValue_2 = codeArray[2] || 0;\r\n\r\n    let allDict = AddressUtil.getPCA(array, codeValue_0);\r\n    let provinceArray = allDict.provinceArray || [];\r\n    let provinceIndex = allDict.index || 0;\r\n    let provinceCode = allDict.id || 0;\r\n    let provinceName = allDict.name || '';\r\n\r\n    let allProvinceArray = allDict.allProvinceArray || [];\r\n    let allCityArray = allDict.allCityArray || [];\r\n    let allAreaArray = allDict.allAreaArray || [];\r\n\r\n    let cityDict = AddressUtil.getArrayWithParent(allCityArray, provinceCode, codeValue_1);\r\n    let cityArray = cityDict.array || [];\r\n    let cityIndex = cityDict.index || 0;\r\n    let cityCode = cityDict.id || 0;\r\n    let cityName = cityDict.name || '';\r\n\r\n    let areaDict = AddressUtil.getArrayWithParent(allAreaArray, cityCode, codeValue_2);\r\n    let areaArray = areaDict.array || [];\r\n    let areaIndex = areaDict.index || 0;\r\n    let areaCode = areaDict.code || 0;\r\n    let areaName = areaDict.name || '';\r\n    return {\r\n      allProvinceArray, allCityArray, allAreaArray,\r\n\r\n      provinceArray, provinceIndex, provinceCode, provinceName,\r\n      cityArray, cityIndex, cityCode, cityName,\r\n      areaArray, areaIndex, areaCode, areaName\r\n    }\r\n  },\r\n\r\n  getPCA(array = [], cityIdValue = '') {\r\n    //{cityId: 3124, cityName: \"崇左市\", cityLevel: 2, parentId: 3015, cityCode: 144}\r\n    let provinceArray = [];\r\n    let allProvinceArray = [];\r\n    let allCityArray = [];\r\n    let allAreaArray = [];\r\n    array = array || [];\r\n    if (!Array.isArray(array)) {\r\n      console.warn('getArrayName-> `array` not array');\r\n      return { allProvinceArray, allCityArray, allAreaArray, provinceArray, index: 0, id: 0, name: ''};\r\n    }\r\n\r\n    var index = 0;\r\n    var id = 0;\r\n    var name = '';\r\n    let firstItem = null;\r\n    for (let i = 0; i < array.length; i++) {\r\n      let item = array[i] || {};\r\n      let cityLevel = item.cityLevel || 0;\r\n      if (cityLevel === 1) {\r\n        let cityName = item.cityName || '';\r\n        if (!id) {\r\n          let cityId = item.cityId || 0;\r\n          if (cityIdValue && cityId === cityIdValue) { //相对相等，不是绝对\r\n            id = cityId;\r\n            name = cityName;\r\n          }\r\n          else {\r\n            index++;\r\n          }\r\n        }\r\n        if (!firstItem){\r\n          firstItem = item;\r\n        }\r\n        provinceArray.push(cityName);\r\n        allProvinceArray.push(item);\r\n      }\r\n      else if (cityLevel === 2) {\r\n        allCityArray.push(item);\r\n      }\r\n      else if (cityLevel === 3) {\r\n        allAreaArray.push(item);\r\n      }\r\n    }\r\n\r\n    if (!id) {\r\n      index = 0;\r\n      name = firstItem.cityName || '';\r\n      id = firstItem.cityId || 0;\r\n    }\r\n\r\n    return { allProvinceArray, allCityArray, allAreaArray, provinceArray, id, index, name };\r\n  },\r\n\r\n  getArrayWithParent(array = [], pCityId = 1, cityIdValue = '') {\r\n    if (!Array.isArray(array)) {\r\n      console.warn('getArrayName-> `array` not array');\r\n      return {array: [], index: 0};\r\n    }\r\n    var newArray = [];\r\n    var index = 0;\r\n    var id = 0;\r\n    var name = '';\r\n    let firstItem = null;\r\n    for (var i = 0; i < array.length; i++) {\r\n      let item = array[i] || {};\r\n      let parentId = item.parentId || 0;\r\n      let cityId = item.cityId || 0;\r\n      let cityName = item.cityName || '';\r\n      if (pCityId && parentId === pCityId) {\r\n        if (!id) {\r\n          if (cityIdValue && cityId === cityIdValue) { //相对相等，不是绝对\r\n            name = cityName;\r\n            id = cityId;\r\n          }\r\n          else {\r\n            index++;\r\n          }\r\n        }\r\n        if (!firstItem){\r\n          firstItem = item;\r\n        }\r\n        newArray.push(cityName);\r\n      }      \r\n    }\r\n\r\n    if (!id) {\r\n      index = 0;\r\n      name = firstItem.cityName || '';\r\n      id = firstItem.cityId || 0;\r\n    }\r\n    return {array: newArray, index, id, name};\r\n  },\r\n\r\n  getArrayWithCityName(array = [], index = 0, allArray = []) {\r\n    var id = 0;\r\n    let name = '';\r\n    if (!Array.isArray(array)) {\r\n      console.warn('getArrayName-> `array` not array');\r\n      return { id, name };\r\n    }\r\n    if (index > array.length) {\r\n      console.warn('getArrayName-> `index > array.length`');\r\n      return { id, name };\r\n    }\r\n    name = array[index] || '';\r\n    let firstItem = null;\r\n    for (let i = 0; i < allArray.length; i++) {\r\n      let item = allArray[i] || {};\r\n      let itemName = item.cityName || '';\r\n      if (!firstItem){\r\n        firstItem = item;\r\n      }\r\n      if (itemName === name) {\r\n        id = item.cityId || 0;\r\n        break;\r\n      }\r\n    }\r\n    if (!id) {\r\n      name = firstItem.cityName || '';\r\n      id = firstItem.cityId || 0;\r\n    }\r\n    return { id, name };\r\n  }\r\n}\r\n\r\nRXAddressPicker.propTypes = {\r\n  ...RXPicker.propTypes,\r\n  addressList: PropTypes.array,\r\n  selectValues: PropTypes.string,\r\n}\r\n\r\nRXAddressPicker.defaultProps = {\r\n  ...RXPicker.defaultProps,\r\n  addressList: [],\r\n}"]}